#!/bin/bash

# Claude Code Hook: User Prompt Submit
# This hook runs when the user submits a prompt
# It logs the conversation to daily files for documentation purposes

# Configuration
LOG_DIR="docs/prompts/daily"
LOG_FILE="$LOG_DIR/$(date +%Y-%m-%d).md"

# Create log directory if it doesn't exist
mkdir -p "$LOG_DIR"

# Get the current timestamp
TIMESTAMP=$(date "+%Y-%m-%d %H:%M:%S")

# Create or append to the log file
if [ ! -f "$LOG_FILE" ]; then
  cat > "$LOG_FILE" << EOF
# Daily Conversation Log
**Date**: $(date "+%Y-%m-%d (%A)")

---

## Conversations

EOF
fi

# Append the user prompt to the log
cat >> "$LOG_FILE" << EOF

### [$TIMESTAMP] User Prompt

\`\`\`
$PROMPT
\`\`\`

EOF

# Optional: Print a message (this will appear in Claude Code)
# echo "âœ… Prompt logged to $LOG_FILE"
